<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Gestion de t√¢ches avec sous-t√¢ches hi√©rarchiques, progression automatique et interface organique immersive">
    <meta name="keywords" content="t√¢ches, sous-t√¢ches, gestion projet, horror interface, productivit√©">
    <meta name="robots" content="index, follow">
    
    <!-- Performance optimization -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" href="./css/style.css" as="style">
    <link rel="preload" href="./js/bundled-tasks.js" as="script">
    <link rel="preload" href="./assets/images/logo.svg" as="image">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="./manifest.json">
    
    <!-- Ic√¥nes pour diff√©rentes plateformes -->
    <link rel="icon" type="image/svg+xml" href="./assets/images/logo.svg">
    <link rel="apple-touch-icon" href="./assets/images/icon-192x192.svg">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    
    <!-- Couleur de th√®me pour les navigateurs mobiles -->
    <meta name="theme-color" content="#1a1a1a">
    <meta name="msapplication-navbutton-color" content="#1a1a1a">
    
    <title>Projet Silex - Gestion des T√¢ches</title>
    <link rel="stylesheet" href="./css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Cinzel:wght@400;500;600&family=Crimson+Text:ital,wght@0,400;0,600;1,400&family=Source+Code+Pro:wght@400;500&family=Creepster&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Effet de tra√Æn√©e du curseur -->
    <div class="cursor-trail"></div>
    
    <!-- Navigation principale -->
    <nav class="main-nav">
        <div class="nav-container">
            <div class="logo-container">
                <img src="./assets/images/logo.svg" alt="Projet Silex" class="logo-img breathing">
            </div>
            <div class="nav-links">
                <a href="./index.html" class="nav-btn breathing">Accueil</a>
                <a href="./tasks.html" class="nav-btn active breathing">T√¢ches</a>
                <a href="./cahier-des-charges.html" class="nav-btn breathing">Cahier des Charges</a>
                <!-- Bouton audio -->
                <button id="audio-toggle" class="audio-btn breathing" title="Activer/D√©sactiver les sons">
                    <span class="audio-icon">üîä</span>
                </button>
            </div>
        </div>
    </nav>

    <!-- Page de gestion des t√¢ches -->
    <main class="page active" id="tasks-page">
        <div class="tasks-container">
            <h2 class="page-title">Gestionnaire de T√¢ches</h2>
            
            <!-- Tableau de bord des statistiques - EN HAUT -->
            <div class="dashboard-container">
                <h3>Tableau de bord</h3>
                <div class="dashboard-grid">
                    <!-- Statistiques globales -->
                    <div class="stats-card breathing">
                        <h4>Vue d'ensemble</h4>
                        <div class="stats-content">
                            <div class="stat-item">
                                <span class="stat-value" id="total-tasks">0</span>
                                <span class="stat-label">Total t√¢ches</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-value" id="completed-tasks">0</span>
                                <span class="stat-label">Termin√©es</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-value" id="pending-tasks">0</span>
                                <span class="stat-label">En cours</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-value" id="overdue-tasks">0</span>
                                <span class="stat-label">En retard</span>
                            </div>
                        </div>
                    </div>

                    <!-- T√¢ches prioritaires -->
                    <div class="priority-card breathing">
                        <h4>T√¢ches prioritaires</h4>
                        <div id="priority-tasks" class="priority-tasks-list">
                            <!-- Les t√¢ches prioritaires seront ajout√©es dynamiquement -->
                        </div>
                    </div>

                    <!-- Assignation rapide -->
                    <div class="assignment-card breathing">
                        <h4>Assignation rapide</h4>
                        <div class="assignment-content">
                            <select id="quick-assign-task" class="form-select">
                                <option value="">S√©lectionner une t√¢che...</option>
                            </select>
                            <select id="quick-assign-user" class="form-select">
                                <option value="">Assign√© √†...</option>
                                <option value="Designer Principal">Designer Principal</option>
                                <option value="D√©veloppeur Backend">D√©veloppeur Backend</option>
                                <option value="D√©veloppeur Frontend">D√©veloppeur Frontend</option>
                                <option value="UX Researcher">UX Researcher</option>
                                <option value="Chef de Projet">Chef de Projet</option>
                                <option value="Testeur QA">Testeur QA</option>
                            </select>
                            <button id="quick-assign-btn" class="submit-button breathing">Assigner</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Liste des t√¢ches existantes -->
            <div class="tasks-list-container">
                <h3>Vos t√¢ches</h3>
                <div class="tasks-filter">
                    <button class="filter-btn active" data-filter="all">Toutes</button>
                    <button class="filter-btn" data-filter="not-started">Pas commenc√©</button>
                    <button class="filter-btn" data-filter="in-progress">En cours</button>
                    <button class="filter-btn" data-filter="standby">Stand by</button>
                    <button class="filter-btn" data-filter="completed">Termin√©</button>
                </div>
                <div id="tasks-list" class="tasks-list">
                    <!-- Les t√¢ches seront ajout√©es dynamiquement ici -->
                </div>
            </div>
            
            <!-- Formulaire d'ajout de t√¢che - EN BAS (scroll pour voir) -->
            <div class="task-form-container">
                <h3>Cr√©er une nouvelle t√¢che</h3>
                <form id="task-form" class="task-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="task-title">Titre de la t√¢che</label>
                            <input type="text" id="task-title" required class="form-input">
                        </div>
                        <div class="form-group">
                            <label for="task-deadline">Deadline</label>
                            <input type="date" id="task-deadline" required class="form-input">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="task-status">Avancement</label>
                            <select id="task-status" class="form-select">
                                <option value="not-started">Pas commenc√©</option>
                                <option value="in-progress">En cours</option>
                                <option value="standby">Stand by</option>
                                <option value="completed">Termin√©</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="task-domain">Domaine</label>
                            <select id="task-domain" class="form-select">
                                <option value="kyf">KYF</option>
                                <option value="development">D√©veloppement</option>
                                <option value="design">Design</option>
                                <option value="marketing">Marketing</option>
                                <option value="research">Recherche</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="task-condition">Condition</label>
                        <textarea id="task-condition" class="form-textarea" placeholder="D√©crivez les conditions ou contraintes de cette t√¢che..."></textarea>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="task-duration">Dur√©e estim√©e</label>
                            <select id="task-duration" class="form-select">
                                <option value="15min">15 minutes</option>
                                <option value="30min">30 minutes</option>
                                <option value="1h">1 heure</option>
                                <option value="2h">2 heures</option>
                                <option value="4h">4 heures</option>
                                <option value="1d">1 jour</option>
                                <option value="2d">2 jours</option>
                                <option value="1w">1 semaine</option>
                                <option value="2w">2 semaines</option>
                                <option value="1m">1 mois</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="task-difficulty">Difficult√© (1-10)</label>
                            <input type="range" id="task-difficulty" min="1" max="10" value="5" class="form-range">
                            <span class="range-value" id="difficulty-value">5</span>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="task-priority">Priorit√© (1-100)</label>
                            <input type="range" id="task-priority" min="1" max="100" value="50" class="form-range">
                            <span class="range-value" id="priority-value">50</span>
                        </div>
                        <div class="form-group">
                            <label for="task-assignee">Assignation</label>
                            <input type="text" id="task-assignee" class="form-input" placeholder="Nom de l'assign√©">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="task-caracteristique">Caract√©ristique du Cahier des Charges</label>
                        <select id="task-caracteristique" class="form-select">
                            <option value="">Aucune caract√©ristique li√©e</option>
                            <option value="interface-horror">üé® Interface Horror Organique</option>
                            <option value="gestion-taches">üìã Syst√®me de Gestion des T√¢ches</option>
                            <option value="dashboard-analytics">üìä Tableau de Bord Analytics</option>
                            <option value="performance-optim">‚ö° Optimisations Performance</option>
                            <option value="architecture-modulaire">üèóÔ∏è Architecture Modulaire</option>
                        </select>
                    </div>
                    
                    <!-- Section des sous-t√¢ches -->
                    <div class="form-group">
                        <label for="task-subtasks">Sous-t√¢ches</label>
                        <div class="subtasks-container">
                            <div class="subtasks-list" id="subtasks-list">
                                <!-- Les sous-t√¢ches seront ajout√©es dynamiquement ici -->
                            </div>
                            <div class="add-subtask-container">
                                <input type="text" id="new-subtask-input" class="form-input" placeholder="Ajouter une sous-t√¢che...">
                                <button type="button" id="add-subtask-btn" class="add-btn breathing">+</button>
                            </div>
                        </div>
                    </div>
                    
                    <button type="submit" class="submit-button breathing">
                        <span>Cr√©er la t√¢che</span>
                        <div class="blood-drip"></div>
                    </button>
                </form>
            </div>
        </div>
    </main>

    <!-- Modal de d√©tails de t√¢che -->
    <div id="task-modal" class="modal">
        <div class="modal-content breathing">
            <span class="close">&times;</span>
            <div id="modal-body">
                <!-- Contenu dynamique du modal -->
            </div>
        </div>
    </div>

    <!-- Debug info -->
    <div style="position: fixed; bottom: 10px; left: 10px; background: rgba(0,0,0,0.8); color: #0f0; padding: 10px; font-family: monospace; font-size: 12px; border-radius: 5px; z-index: 9999;">
        <div>üîß Compatible Mode</div>
        <div id="debug-status">Loading...</div>
    </div>

    <script src="./js/bundled-tasks.js"></script>
    <script>
        // Additional debug info
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                const debugStatus = document.getElementById('debug-status');
                const form = document.getElementById('task-form');
                debugStatus.innerHTML = form ? '‚úÖ Form Ready' : '‚ùå Form Missing';
            }, 100);
        });
    </script>
</body>
</html>