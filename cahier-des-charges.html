<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Cahier des charges - Projet Silex - Gestion des caractéristiques">
    <meta name="keywords" content="cahier des charges, spécifications, exigences, projet silex, horror interface">
    
    <!-- Performance optimization -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" href="./css/style.css" as="style">
    <link rel="preload" href="./js/bundled-tasks.js" as="script">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="./manifest.json">
    
    <!-- Icônes -->
    <link rel="icon" type="image/svg+xml" href="./assets/images/logo.svg">
    <meta name="theme-color" content="#1a1a1a">
    
    <title>Projet Silex - Cahier des Charges</title>
    <link rel="stylesheet" href="./css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Cinzel:wght@400;500;600&family=Crimson+Text:ital,wght@0,400;0,600;1,400&family=Source+Code+Pro:wght@400;500&family=Creepster&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Effet de traînée du curseur -->
    <div class="cursor-trail"></div>
    
    <!-- Navigation principale -->
    <nav class="main-nav">
        <div class="nav-container">
            <div class="logo-container">
                <img src="./assets/images/logo.svg" alt="Projet Silex" class="logo-img breathing">
            </div>
            <div class="nav-links">
                <a href="./index.html" class="nav-btn breathing">Accueil</a>
                <a href="./tasks.html" class="nav-btn breathing">Tâches</a>
                <a href="./cahier-des-charges.html" class="nav-btn active breathing">Cahier des Charges</a>
                <!-- Bouton audio -->
                <button id="audio-toggle" class="audio-btn breathing" title="Activer/Désactiver les sons">
                    <span class="audio-icon">🔊</span>
                </button>
            </div>
        </div>
    </nav>

    <!-- Page du cahier des charges -->
    <main class="page active" id="specifications-page">
        <div class="tasks-container">
            <h2 class="page-title">Cahier des Charges - Projet Silex</h2>
            
            <!-- Section Vue d'ensemble -->
            <div class="dashboard-container">
                <h3>Vue d'ensemble du Projet</h3>
                <div class="dashboard-grid">
                    <!-- Objectifs -->
                    <div class="stats-card breathing">
                        <h4>🎯 Objectifs Principaux</h4>
                        <div class="stats-content">
                            <ul>
                                <li>Gestionnaire de tâches avec interface horror</li>
                                <li>Architecture modulaire et performante</li>
                                <li>Expérience utilisateur immersive</li>
                                <li>Compatibilité multi-plateforme</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Technologies -->
                    <div class="stats-card breathing">
                        <h4>🛠️ Stack Technique</h4>
                        <div class="stats-content">
                            <ul>
                                <li><strong>Frontend:</strong> HTML5, CSS3, JavaScript ES6+</li>
                                <li><strong>Design:</strong> Système de design horror custom</li>
                                <li><strong>Stockage:</strong> LocalStorage</li>
                                <li><strong>PWA:</strong> Service Worker, Manifest</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Statistiques -->
                    <div class="stats-card breathing">
                        <h4>📊 Métriques Projet</h4>
                        <div class="stats-content stats-grid">
                            <div class="stat-item">
                                <span class="stat-number" id="total-specs-overview">0</span>
                                <span class="stat-label">Caractéristiques</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number" id="completed-specs-overview">0</span>
                                <span class="stat-label">Terminées</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Gestion des caractéristiques -->
            <div class="tasks-list-container">
                <!-- Formulaire d'ajout/modification -->
                <div class="task-form-container" style="margin-bottom: 2rem;">
                    <h4>🔧 Gestion des Caractéristiques</h4>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="spec-title">Titre</label>
                            <input type="text" id="spec-title" class="form-input" placeholder="Nom de la caractéristique...">
                        </div>
                        
                        <div class="form-group">
                            <label for="spec-domain">Domaine</label>
                            <select id="spec-domain" class="form-select">
                                <option value="site-dev">💻 Développement du site</option>
                                <option value="game-dev">🎮 Développement du jeu</option>
                                <option value="graphics-2d">🎨 Graphismes 2D</option>
                                <option value="graphics-3d">🗿 Graphismes 3D</option>
                                <option value="sound-design">🔊 Sound Design</option>
                                <option value="music">🎵 Musiques</option>
                                <option value="level-design">🗺️ Level Design</option>
                                <option value="animations">🎬 Animations</option>
                                <option value="community">👥 Community Management</option>
                                <option value="scenario">📝 Scénario</option>
                                <option value="testing">🧪 Tests</option>
                                <option value="qa-management">🔍 QA Management</option>
                                <option value="hr-management">👔 RH/Management</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="spec-priority">Priorité</label>
                            <input type="range" id="spec-priority" class="form-range" min="1" max="100" value="50">
                            <span class="range-value">50</span>
                        </div>
                        
                        <div class="form-group">
                            <label for="spec-status">Statut</label>
                            <select id="spec-status" class="form-select">
                                <option value="not-started">Non commencé</option>
                                <option value="in-progress">En cours</option>
                                <option value="standby">Stand by</option>
                                <option value="completed">Terminé</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="spec-description">Description</label>
                        <textarea id="spec-description" class="form-textarea" placeholder="Description détaillée de la caractéristique..." rows="3"></textarea>
                    </div>
                    
                    <div class="form-actions">
                        <button id="spec-submit-btn" class="btn btn-primary breathing">Ajouter</button>
                        <button type="button" class="btn btn-secondary breathing" onclick="clearSpecificationForm()">Annuler</button>
                    </div>
                </div>

                <h3>📋 Caractéristiques du Projet</h3>
                <div class="tasks-filter">
                    <button class="filter-btn active" data-filter="all">Toutes</button>
                    <button class="filter-btn" data-filter="site-dev">💻 Développement du site</button>
                    <button class="filter-btn" data-filter="game-dev">🎮 Développement du jeu</button>
                    <button class="filter-btn" data-filter="graphics-2d">🎨 Graphismes 2D</button>
                    <button class="filter-btn" data-filter="graphics-3d">🗿 Graphismes 3D</button>
                    <button class="filter-btn" data-filter="sound-design">🔊 Sound Design</button>
                    <button class="filter-btn" data-filter="music">🎵 Musiques</button>
                    <button class="filter-btn" data-filter="level-design">🗺️ Level Design</button>
                    <button class="filter-btn" data-filter="animations">🎬 Animations</button>
                    <button class="filter-btn" data-filter="community">👥 Community Management</button>
                    <button class="filter-btn" data-filter="scenario">📝 Scénario</button>
                    <button class="filter-btn" data-filter="testing">🧪 Tests</button>
                    <button class="filter-btn" data-filter="qa-management">🔍 QA Management</button>
                    <button class="filter-btn" data-filter="hr-management">👔 RH/Management</button>
                </div>
                <div id="specifications-list" class="tasks-list">
                    <!-- Les caractéristiques seront affichées dynamiquement ici -->
                </div>
            </div>
        </div>

        <!-- Sidebar avec informations du projet -->
        <div class="sidebar">
            <div class="sidebar-section">
                <h3>📊 Statistiques</h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <span class="stat-number" id="total-specs">0</span>
                        <span class="stat-label">Caractéristiques</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" id="completed-specs">0</span>
                        <span class="stat-label">Terminées</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" id="assigned-tasks">0</span>
                        <span class="stat-label">Tâches Assignées</span>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Debug info -->
    <div style="position: fixed; bottom: 10px; left: 10px; background: rgba(0,0,0,0.8); color: #0f0; padding: 10px; font-family: monospace; font-size: 12px; border-radius: 5px; z-index: 9999;">
        <div>📋 Cahier des Charges</div>
        <div id="debug-status">Caractéristiques Chargées</div>
    </div>

    <script src="./js/bundled-tasks.js"></script>
    <script>
        // Gestion du slider de priorité
        document.addEventListener('DOMContentLoaded', function() {
            const prioritySlider = document.getElementById('spec-priority');
            const rangeValue = document.querySelector('.range-value');
            
            if (prioritySlider && rangeValue) {
                prioritySlider.addEventListener('input', function() {
                    rangeValue.textContent = this.value;
                });
            }
        });

        // Fonctionnalité de filtrage pour les caractéristiques
        document.addEventListener('DOMContentLoaded', function() {
            const filterButtons = document.querySelectorAll('.filter-btn');
            
            filterButtons.forEach(button => {
                button.addEventListener('click', () => {
                    // Retirer la classe active de tous les boutons
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    // Ajouter la classe active au bouton cliqué
                    button.classList.add('active');
                    
                    const filter = button.dataset.filter;
                    
                    // Filtrer les caractéristiques via JavaScript
                    if (window.filterSpecifications) {
                        window.filterSpecifications(filter);
                    }
                });
            });

            // Debug status
            setTimeout(() => {
                const debugStatus = document.getElementById('debug-status');
                debugStatus.innerHTML = '✅ Page Ready';
            }, 100);
        });
    </script>
</body>
</html>